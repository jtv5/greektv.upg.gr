<!doctype html>
<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>IELKO VIDEO PLAYER</title>
  <meta name="author" content="Ioannis Kokkinis">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="HandheldFriendly" content="true">
  <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">

  <!-- CSS -->
  <link rel='stylesheet' id='videojs-css' href='css/video-js.min.css' type='text/css' media='all' />
  <link rel='stylesheet' id='videojs-airplay-css' href='css/videojs.airplay.css' type='text/css' media='all' />
  <!-- CSS -->

  <!-- JS -->
  <script type='text/javascript' src='js/jquery.min.js'></script>
  <script type='text/javascript' src='js/video.min.js'></script>
  <script type='text/javascript' src='js/videojs-contrib-hls.min.js'></script>
  <script type='text/javascript' src='js/videojs.airplay.js'></script>
  <script type='text/javascript' src='js/videojs-ie8.min.js'></script>
  <script type='text/javascript' src='js/Youtube.min.js'></script>
  <script type='text/javascript' src='js/ielko-video-player.js'></script>
  <script type='text/javascript' src='analytics.js'></script>
  <!-- JS -->




</head>

<body>
  <script>
    function getUrlVars() {
      var vars = {};
      var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
        if (vars[key]) {
          if (vars[key] instanceof Array) {
            vars[key].push(value);
          } else {
            vars[key] = [vars[key], value];
          }
        } else {
          vars[key] = value;
        }
      });
      return vars;
    }

    $(document).ready(function() {
      var play = getUrlVars()["play"];
      if (play) {
        if (play.indexOf('m3u8') > -1) {
          console.log('m3u8_');
          playmedia('m3u8', play)
        } else if (play.indexOf('rtmp') > -1) {
          console.log('rtmp');
          playmedia('rtmp', play)
        } else if (play.indexOf('youtube') > -1) {
          console.log('youtube');
          playmedia('youtube', play)
        } else if (play.indexOf('livestream.com') > -1) {
          console.log('livestream.com');
          append_livestream(play);
        } else if (play.indexOf('dailymotion') > -1) {
          console.log('dailymotion');
          append_dailymotion(play);
        } else if (play.indexOf('vimeo') > -1) {
          console.log('vimeo');
          append_vimeo(play);
        }
      }
      var poster = getUrlVars()["poster"];
      var title = getUrlVars()["channel"];



      function append_dailymotion(play) {
        var dailymotionID = (m = play.match(new RegExp("\/video\/([^_?#]+).*?"))) ? m[1] : void 0;
        $(".upgvid").empty().append(
          '<div id="videoHolder" style="background-image:url();" class="flowplayer-video videoHolder-322 videoHolder fullscreen-bg playful no-background"><div class="embed-container"><iframe src="http://www.dailymotion.com/embed/video/' +
          dailymotionID + '" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div></div>')
      }

      function append_livestream(play) {
        var livestreamID = play.substr(play.lastIndexOf('/') + 1);
        $(".upgvid").empty().append(
          '<div id="videoHolder" style="background-image:url();" class="flowplayer-video videoHolder-322 videoHolder fullscreen-bg playful no-background"><div class="embed-container"><iframe src="http://cdn.livestream.com/embed/' +
          livestreamID + '?autoplay=true" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div></div>')
      }

      function append_vimeo(play) {
        var vimeoID = play.substr(play.lastIndexOf('/') + 1);
        $(".upgvid").empty().append(
          '<div id="videoHolder" style="background-image:url();" class="flowplayer-video videoHolder-322 videoHolder fullscreen-bg playful no-background"><div class="embed-container"><iframe src="http://player.vimeo.com/video/' +
          vimeoID + '?autoplay=true" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div></div>')
      }

    });
  </script>
  <div class="upgvid"></div>
</body>

</html>